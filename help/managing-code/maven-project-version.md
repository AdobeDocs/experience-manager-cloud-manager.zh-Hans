---
title: Maven 项目版本处理
description: 了解 Maven 如何在 Cloud Manager 中处理项目版本控制。
exl-id: a1d676e0-27cc-4b0d-8799-527c0520946a
source-git-commit: 9312999660b324f0f9d2b44dfbf49c4813a3a6e9
workflow-type: ht
source-wordcount: '260'
ht-degree: 100%

---


# Maven 项目版本处理 {#project-version}

了解 Maven 如何在 Cloud Manager 中处理项目版本控制。

## Maven 处理项目版本的方式 {#how-maven}

对于暂存和生产部署，Cloud Manager 会生成一个独特的递增版本。

此版本将显示在管道执行详细信息页面以及活动页面上。在运行构建时，将更新 Maven 项目以使用此版本，并在 Git 存储库中创建一个标记，此版本会充当标记的名称。

如果原始项目版本符合特定标准，则更新后的 Maven 项目版本将合并原始项目版本和 Cloud Manager 生成的版本。不过，标记始终使用生成的版本。为了使合并能够执行，原始项目版本必须由三个版本分段组成，例如 `1.0.0` 或 `1.2.3`，而不是 `1.0` 或 `1`，并且原始版本不得以 `-SNAPSHOT` 结束。

>[!NOTE]
>
>必须在 Git 存储库分支中的顶层 `pom.xml` 文件的 `<version>` 元素中静态设置此原始项目版本值。

如果原始版本符合这些标准，则生成的版本将作为新版本分段追加到原始版本。此外，将略微修改生成的版本以包括正确的排序和版本处理。例如，假设生成的版本为 `2019.926.121356.0000020490`：

| 版本 | `pom.xml` 中的版本 | 注释 |
|---|---|---|
| `1.0.0` | `1.0.0.2019_0926_121356_0000020490` | 格式正确的原始版本 |
| `1.0.0-SNAPSHOT` | `2019.926.121356.0000020490` | 快照版本，已覆盖 |
| `1` | `2019.926.121356.0000020490` | 未完成版本，已覆盖 |

>[!NOTE]
>
>无论原始版本是否已合并到 Cloud Manager 初始化的版本中，原始版本都会作为名为 `cloudManagerOriginalVersion` 的 Maven 属性提供。
