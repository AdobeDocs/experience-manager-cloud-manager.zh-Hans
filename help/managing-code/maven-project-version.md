---
title: Maven 项目版本处理
description: 了解 Maven 如何在 Cloud Manager 中处理项目版本控制。
exl-id: a1d676e0-27cc-4b0d-8799-527c0520946a
source-git-commit: 984269e5fe70913644d26e759fa21ccea0536bf4
workflow-type: tm+mt
source-wordcount: '249'
ht-degree: 43%

---


# Maven项目版本处理 {#project-version}

了解 Maven 如何在 Cloud Manager 中处理项目版本控制。

## Maven处理项目版本的方式 {#how-maven}

对于暂存和生产部署，Cloud Manager 会生成一个独特的递增版本。

此版本将显示在管道执行详细信息页面以及活动页面上。 在运行生成时，将更新Maven项目以使用此版本。 在Git存储库中创建一个标记，并将该版本作为其名称。

如果原始项目版本符合特定条件，则更新后的Maven项目版本会合并原始项目版本和Cloud Manager生成的版本。 不过，标记始终使用生成的版本。 为了使合并发生，原始项目版本必须由三个版本段组成，例如 `1.0.0` 或 `1.2.3`，而不是 `1.0` 或 `1`，并且原始版本不得以 `-SNAPSHOT` 结束。

>[!NOTE]
>
>必须在Git存储库分支中的顶级`pom.xml`文件的`<version>`元素中静态设置此原始项目版本值。

如果原始版本符合这些条件，则生成的版本将作为新版本段追加到原始版本。 此外，还略微修改了生成的版本，以包括正确的排序和版本处理。 例如，假设生成的版本为 `2019.926.121356.0000020490`：

| 版本 | `pom.xml` 中的版本 | 注释 |
| --- | --- | --- |
| `1.0.0` | `1.0.0.2019_0926_121356_0000020490` | 格式正确的原始版本 |
| `1.0.0-SNAPSHOT` | `2019.926.121356.0000020490` | 快照版本，已覆盖 |
| `1` | `2019.926.121356.0000020490` | 未完成版本，已覆盖 |

>[!NOTE]
>
>无论原始版本是否已集成到Cloud Manager初始化的版本中，它仍可以作为名为`cloudManagerOriginalVersion`的Maven属性进行访问。
